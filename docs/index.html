

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Welcome to pyrelate’s documentation! &#8212; pyrelate  documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyrelate  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to pyrelate’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pyrelate.collection">
<span id="welcome-to-pyrelate-s-documentation"></span><h1>Welcome to pyrelate’s documentation!<a class="headerlink" href="#module-pyrelate.collection" title="Permalink to this headline">¶</a></h1>
<p>Functions and AtomsCollection class for interacting with collections of ASE Atoms objects</p>
<dl class="py class">
<dt id="pyrelate.collection.AtomsCollection">
<em class="property">class </em><code class="sig-prename descclassname">pyrelate.collection.</code><code class="sig-name descname">AtomsCollection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">store_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a collection of ASE Atoms objects</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p>self (dict): inherits from dictionary</p></li>
<li><p>name (str) : identifier for this collection</p></li>
<li><p>store (Store) : store to hold all the results and other information</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure to have unique collection names, will be used for LER</p>
</div>
<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.aids">
<code class="sig-name descname">aids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.aids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns sorted list of atom ID’s (aids) in collection</p>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">idd</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete specified results from Store.</p>
<p>Functionality includes:</p>
<blockquote>
<div><ul class="simple">
<li><p>remove a result for a specific Atoms object</p></li>
<li><p>remove specific results for all Atoms objects in the collection</p></li>
<li><p>remove all results for a certain type of descriptor, and</p></li>
<li><p>remove all results in the store</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – descriptor to be applied to AtomsCollection.</p></li>
<li><p><strong>idd</strong> (<em>str</em>) – Idd of Atoms object who’s results you want. Defaults to None, in which case corresponding results for all ASE Atoms objects will be returned as a dictionary, with the aid as key.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Parameters associated with the description function specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_col</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="s2">&quot;soap&quot;</span><span class="p">,</span> <span class="s2">&quot;aid1&quot;</span><span class="p">,</span> <span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span> <span class="c1">#clears single SOAP result with given parameters</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="s2">&quot;soap&quot;</span><span class="p">,</span> <span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span> <span class="c1">#clears SOAP results for whole collection with given parameters</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="s2">&quot;soap&quot;</span><span class="p">)</span> <span class="c1">#clears all soap results from store</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1">#clears all results from store</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.describe">
<code class="sig-name descname">describe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">fcn</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">override</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate and store atomic description.</p>
<p>User can specify a descriptor function to be used, or use those in descriptors.py. When there is a padding associated with the Atoms object, the padding atoms are deleted from the final description before being stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – descriptor to be applied to AtomsCollection.</p></li>
<li><p><strong>fcn</strong> (<em>str</em>) – function to apply said description. Defaults to none. When none, built in functions in descriptors.py are used.</p></li>
<li><p><strong>override</strong> (<em>bool</em>) – if True, descriptor will override any matching results in the store. Defaults to False.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Parameters associated with the description function specified. See documentation in descriptors.py for function details and parameters.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soap_args</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;rcut&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;lmax&quot;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;nmax&quot;</span> <span class="p">:</span> <span class="mi">9</span>
<span class="p">}</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="s2">&quot;soap&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">soap_args</span><span class="p">)</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="s2">&quot;my_soap&quot;</span><span class="p">,</span> <span class="n">fcn</span><span class="o">=</span><span class="n">soap</span><span class="p">,</span> <span class="o">**</span><span class="n">soap_args</span><span class="p">)</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="s2">&quot;asr&quot;</span><span class="p">,</span> <span class="n">res_needed</span><span class="o">=</span><span class="s2">&quot;my_soap&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">soap_args</span><span class="p">)</span>

<span class="n">ler_args</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;collection&quot;</span><span class="p">:</span> <span class="n">my_col</span><span class="p">,</span>
    <span class="s2">&quot;res_needed&quot;</span><span class="p">:</span> <span class="s2">&quot;my_soap&quot;</span><span class="p">,</span>
    <span class="s2">&quot;soap_fcn&quot;</span><span class="p">:</span> <span class="n">soap</span><span class="p">,</span>
    <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="s2">&quot;dissim_args&quot;</span><span class="p">:{</span><span class="s2">&quot;gamma&quot;</span><span class="p">:</span><span class="mi">4000</span><span class="p">},</span>
    <span class="o">**</span><span class="n">soap_args</span>
<span class="p">}</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="s2">&quot;ler&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ler_args</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">idd</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Shell function to call Store’s get method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – descriptor to be applied to AtomsCollection.</p></li>
<li><p><strong>idd</strong> (<em>str</em>) – Idd of Atoms object who’s results you want. Defaults to None, in which case corresponding results for all ASE Atoms objects will be returned as a dictionary, with the aid as key.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Parameters associated with the description function specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_col</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;soap&quot;</span><span class="p">,</span> <span class="s1">&#39;aid1&#39;</span><span class="p">,</span> <span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;asr&quot;</span><span class="p">,</span> <span class="n">res_needed</span><span class="o">=</span><span class="s2">&quot;my_soap&quot;</span><span class="p">,</span> <span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">Z</span></em>, <em class="sig-param"><span class="n">f_format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rxid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to read atoms data into ASE Atoms objects and add to AtomsCollection.</p>
<p>Utilizes functionality in ASE to read in atomic data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> (<em>str</em>) – relative file path (or list of file paths) to the file, or directory of files, where the raw atomic descriptions are located.</p></li>
<li><p><strong>Z</strong> (<em>int</em>) – atomic number of the elements to be read</p></li>
<li><p><strong>f_format</strong> (<em>str</em>) – format of data file. Defaults to None. See ASE’s documentation at ‘<a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/io/io.html">https://wiki.fysik.dtu.dk/ase/ase/io/io.html</a>’</p></li>
<li><p><strong>(</strong> (<em>rxid</em>) – obj: str, optional) : regex pattern for extracting the <cite>aid</cite> for each Atoms object. Defaults to None. The regex should include a named group <cite>(?P&lt;aid&gt;…)</cite> so that the id can be extracted correctly.  If any files don’t match the regex or if it is not specified, the file name is used as the <cite>aid</cite>.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – optional prefix for aid. Defaults to none.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_col</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="s2">&quot;/Ni/ni.p454.out&quot;</span><span class="p">,</span> <span class="s2">&quot;/Ni/ni.p453.out&quot;</span><span class="p">],</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;lammps-dump-text&quot;</span><span class="p">,</span> <span class="n">rxid</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;ni.p(?P&lt;aid&gt;\d+).out&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;Nickel&quot;</span><span class="p">)</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;/Ni/&quot;</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;lammps-dump-text&quot;</span><span class="p">,</span> <span class="n">rxid</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;ni.p(?P&lt;aid&gt;\d+).out&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;Nickel&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.collection.AtomsCollection.trim">
<code class="sig-name descname">trim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trim</span></em>, <em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">pad</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.collection.AtomsCollection.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trims off excess atoms and indicates padding (specified in a mask).</p>
<p>Padding may want to be included so that atoms have a full atomic environments at the edge, some descriptors that perform better with full atomic environments. The “mask” array is attached to the Atoms object, with 1 indicating atoms to be kept in the final description, and 0 to indicate padding atoms. You may get the mask by calling ‘my_col.get_array(“mask”)’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trim</strong> (<em>float</em><em> or </em><em>int</em>) – value (in Angstroms) of the furthest atoms that you want included in the calculated results</p></li>
<li><p><strong>dim</strong> (<em>int</em>) – what dimension the grain boundary is in, 0 for x, 1 for y, 2 for z</p></li>
<li><p><strong>pad</strong> (<em>boolean</em><em> or </em><em>float</em><em> or </em><em>int</em>) – ‘True’ (default) gives a padding value equal to that of the trim, ‘False’ gives no padding, or specify the amount of padding wanted (in Angstroms).</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The user must keep track of what trim and pad parameters were used, as the results stored will not indicate if they have been trimmed or not</p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_col</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">trim</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">my_col</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<span class="target" id="module-pyrelate.descriptors"></span><dl class="py function">
<dt id="pyrelate.descriptors.asr">
<code class="sig-prename descclassname">pyrelate.descriptors.</code><code class="sig-name descname">asr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">store</span></em>, <em class="sig-param"><span class="n">res_needed</span><span class="o">=</span><span class="default_value">'soap'</span></em>, <em class="sig-param"><span class="n">norm_asr</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.descriptors.asr" title="Permalink to this definition">¶</a></dt>
<dd><p>Average SOAP representation: average vectors from SOAP matrix into a single vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>'ase.atoms.Atoms'</em>) – ASE atoms object to perform description on (automatically passed by describe() function)</p></li>
<li><p><strong>store</strong> (<a class="reference internal" href="#pyrelate.store.Store" title="pyrelate.store.Store"><em>pyrelate.store.Store</em></a>) – store to access previously computed SOAP matrix (automatically passed in with the ‘needs_info’ parameter in describe())</p></li>
<li><p><strong>res_needed</strong> (<em>str</em>) – What results to compute the ASR on. Defaults to ‘soap’.</p></li>
<li><p><strong>norm_asr</strong> (<em>bool</em>) – Normalize ASR vector. Default is False, not normalized.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyrelate.descriptors.gaussian_dissimilarity">
<code class="sig-prename descclassname">pyrelate.descriptors.</code><code class="sig-name descname">gaussian_dissimilarity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lae1</span></em>, <em class="sig-param"><span class="n">lae2</span></em>, <em class="sig-param"><span class="n">gamma</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.descriptors.gaussian_dissimilarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian (RBF) dissimilarity metric (used with LER) that varies between 0 and 1.</p>
<p>This metric is given by <span class="math notranslate nohighlight">\(1 - \exp{(-\gamma*||x - x'||^2)}\)</span>. A dissimilarity value closer to 0 means the LAEs are more similar, while closer to 1 means more dissimilar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lae1</strong> (<em>np.array</em>) – first lae to compare</p></li>
<li><p><strong>lae2</strong> (<em>np.array</em>) – second lae to compare</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – gamma value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyrelate.descriptors.ler">
<code class="sig-prename descclassname">pyrelate.descriptors.</code><code class="sig-name descname">ler</code><span class="sig-paren">(</span><em class="sig-param">atoms</em>, <em class="sig-param">store</em>, <em class="sig-param">collection</em>, <em class="sig-param">eps</em>, <em class="sig-param">res_needed='soap'</em>, <em class="sig-param">dissimilarity=&lt;function gaussian_dissimilarity&gt;</em>, <em class="sig-param">dissim_args={}</em>, <em class="sig-param">soap_fcn=None</em>, <em class="sig-param">seed=None</em>, <em class="sig-param">metric='euclidean'</em>, <em class="sig-param">n_trees=10</em>, <em class="sig-param">search_k=-1</em>, <em class="sig-param">**soapargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.descriptors.ler" title="Permalink to this definition">¶</a></dt>
<dd><p>Local Environment Representation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>'ase.atoms.Atoms'</em>) – ASE atoms object to perform description on</p></li>
<li><p><strong>store</strong> (<a class="reference internal" href="#pyrelate.store.Store" title="pyrelate.store.Store"><em>pyrelate.store.Store</em></a>) – store to access previously computed SOAP matrix (automatically passed in with AtomsCollection.describe())</p></li>
<li><p><strong>collection</strong> (<a class="reference internal" href="#pyrelate.collection.AtomsCollection" title="pyrelate.collection.AtomsCollection"><em>pyrelate.collection.AtomsCollection</em></a>) – LER is collection specific, needed for computation</p></li>
<li><p><strong>eps</strong> (<em>float</em>) – epsilon value indicating that any LAE’s outside this value are considered dissimilar. Descriptor and dissimilarity metric specific.</p></li>
<li><p><strong>res_needed</strong> (<em>str</em>) – name of description whose results are needed to compute the LER. Defaults to ‘soap’.</p></li>
<li><p><strong>dissimilarity</strong> (<em>function</em>) – dissimilarity metric function that has the first 2 parameters as the 2 LAE’s to be compared.</p></li>
<li><p><strong>dissim_args</strong> (<em>dict</em>) – dictionary with any additional hyperparameter arguments for the given dissimilarity metric.</p></li>
<li><p><strong>soap_fcn</strong> (<em>function</em>) – optional parameter for a function to compute SOAP matrix for the element’s perfect crystal on the fly. Defaults to None. When None, ‘soap’ function in descriptors.py will be used.</p></li>
<li><p><strong>seed</strong> (<em>np.ndarray</em><em> or </em><em>list</em>) – perfect seed for the element being considered. Defaults to None. When None, seed will be generated on the fly.</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – For approximate nearest neighbor calculation. See Annoy’s documentation for more details.</p></li>
<li><p><strong>n_trees</strong> (<em>int</em>) – For approximate nearest neighbor calculation. See Annoy’s documentation for more details.</p></li>
<li><p><strong>search_k</strong> (<em>int</em>) – For approximate nearest neighbor calculation. See Annoy’s documentation for more details.</p></li>
<li><p><strong>soapargs</strong> (<em>dict</em>) – Parameters associated with the SOAP description being used.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference external" href="https://github.com/spotify/annoy">Annoy’s documentation</a>.</p>
</dd></dl>

<dl class="py function">
<dt id="pyrelate.descriptors.soap">
<code class="sig-prename descclassname">pyrelate.descriptors.</code><code class="sig-name descname">soap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">rcut</span></em>, <em class="sig-param"><span class="n">nmax</span></em>, <em class="sig-param"><span class="n">lmax</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.descriptors.soap" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth Overlap of Atomic Positions– pycsoap implementation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>'ase.atoms.Atoms'</em>) – ASE atoms object to perform description on</p></li>
<li><p><strong>nmax</strong> (<em>int</em>) – bandwidth limits for the SOAP descriptor radial basis functions.</p></li>
<li><p><strong>lmax</strong> (<em>int</em>) – bandwidth limits for the SOAP descriptor spherical harmonics.</p></li>
<li><p><strong>rcut</strong> (<em>float</em>) – local environment finite cutoff parameter.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Parameters associated with the description function</p></li>
</ul>
</dd>
</dl>
<p>To see <a class="reference external" href="https://pypi.org/project/pycsoap/">pycsoap’s documentation</a>.</p>
</dd></dl>

<dl class="py function">
<dt id="pyrelate.descriptors.sum">
<code class="sig-prename descclassname">pyrelate.descriptors.</code><code class="sig-name descname">sum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">store</span></em>, <em class="sig-param"><span class="n">res_needed</span><span class="o">=</span><span class="default_value">'soap'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.descriptors.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum all rows of a descriptor matrix into a single vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>'ase.atoms.Atoms'</em>) – ASE atoms object to perform description on (automatically passed by describe() function)</p></li>
<li><p><strong>store</strong> (<a class="reference internal" href="#pyrelate.store.Store" title="pyrelate.store.Store"><em>pyrelate.store.Store</em></a>) – store to access previously computed SOAP matrix (automatically passed in with the ‘needs_info’ parameter in describe())</p></li>
<li><p><strong>res_needed</strong> (<em>str</em>) – What results to compute the ASR on. Defaults to ‘soap’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-pyrelate.store"></span><p>Functions and Store class for storing atomic descriptions</p>
<dl class="py class">
<dt id="pyrelate.store.Store">
<em class="property">class </em><code class="sig-prename descclassname">pyrelate.store.</code><code class="sig-name descname">Store</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">store_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for efficient storing of description of the AtomsCollection</p>
<dl class="py method">
<dt id="pyrelate.store.Store.check_exists">
<code class="sig-name descname">check_exists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">idd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.check_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check if correct file structure is in place and if a result file exists for these parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – name of descriptor.</p></li>
<li><p><strong>idd</strong> (<em>str</em>) – id of item to check for.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Parameters associated with the description function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if file results already exists, false if they do not</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.store.Store.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">idd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>More general clear function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – name of descriptor</p></li>
<li><p><strong>idd</strong> (str <strong>or</strong> list(str)) – atoms id (or list of atom id’s)</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – refers to whatever arguments that were used to generate the description (which correspond to the file name)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.store.Store.clear_all">
<code class="sig-name descname">clear_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.clear_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove all results from the Store</p>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.store.Store.clear_descriptor">
<code class="sig-name descname">clear_descriptor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.clear_descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove all descriptions of a certiain type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descriptor</strong> (<em>str</em>) – name of descriptor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.store.Store.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">idd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to retrieve information from the Store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>str</em>) – name of descriptor</p></li>
<li><p><strong>idd</strong> (str <strong>or</strong> list(str)) – atoms id (or list of atom id’s)</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – refers to whatever arguments that were used to generate the description (which correspond to the file name)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyrelate.store.Store.store">
<code class="sig-name descname">store</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">result</span></em>, <em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">idd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.store.Store.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to store information into result store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> (<em>pickle</em>) – computed result</p></li>
<li><p><strong>descriptor</strong> (<em>str</em>) – name of descriptor</p></li>
<li><p><strong>idd</strong> (<em>str</em>) – atoms id</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – arguments for computing descriptor, will be used to generate file names</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-pyrelate.elements"></span><p>Crystal definitions and SOAP vector calculations for simple
elements.</p>
<dl class="py function">
<dt id="pyrelate.elements.atoms">
<code class="sig-prename descclassname">pyrelate.elements.</code><code class="sig-name descname">atoms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.elements.atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <code class="xref py py-class docutils literal notranslate"><span class="pre">ase.Atoms</span></code> object for the given element, using the tabulated lattice parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element</strong> (<em>str</em>) – name of the element.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="pyrelate.elements.elements">
<code class="sig-prename descclassname">pyrelate.elements.</code><code class="sig-name descname">elements</code><em class="property"> = {'Al': ('FaceCenteredCubic', 4.05, 13, [0]), 'Cr': ('BodyCenteredCubic', 2.91, 24, [0, 1]), 'Mg': ('HexagonalClosedPacked', {'a': 3.21, 'c/a': 1.633}, 12, [0, 1]), 'Ni': ('FaceCenteredCubic', 3.52, 28, [0])}</em><a class="headerlink" href="#pyrelate.elements.elements" title="Permalink to this definition">¶</a></dt>
<dd><p>keys are element names, values are a tuple of (<cite>str</cite> lattice,
<cite>float</cite> lattice parameter, <cite>int</cite> element number, <cite>list</cite> basis indices).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyrelate.elements.seed">
<code class="sig-prename descclassname">pyrelate.elements.</code><code class="sig-name descname">seed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em>, <em class="sig-param"><span class="n">soap_fcn</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">soapargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrelate.elements.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the <span class="math notranslate nohighlight">\(P\)</span> matrix for the given element.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element</strong> (<em>str</em>) – name of the element.</p></li>
<li><p><strong>soap_fcn</strong> (<em>function</em>) – function to compute SOAP matrix.</p></li>
<li><p><strong>soapargs</strong> (<em>dict</em>) – Parameters associated with the SOAP description being used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyrelate  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Jay Spendlove.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.1.
    </div>
  </body>
</html>